
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Compile an Angular Application Written in ES6 Â· Using Angular 2 Patterns in Angular 1.x Apps</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="angular-1-x-build-lighweight-controllers-by-binding-to-models-in-angular.html" />
    
    
    <link rel="prev" href="angular-1-x-introducing-angular-2-concepts-in-angular-1.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="angular-1-x-introducing-angular-2-concepts-in-angular-1.html">
            
                <a href="angular-1-x-introducing-angular-2-concepts-in-angular-1.html">
            
                    
                    Introducing Angular 2 Concepts in Angular 1
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3" data-path="angular-1-x-compiling-our-application.html">
            
                <a href="angular-1-x-compiling-our-application.html">
            
                    
                    Compile an Angular Application Written in ES6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="angular-1-x-build-lighweight-controllers-by-binding-to-models-in-angular.html">
            
                <a href="angular-1-x-build-lighweight-controllers-by-binding-to-models-in-angular.html">
            
                    
                    Build Lighweight Controllers by Binding to Models in Angular
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Compile an Angular Application Written in ES6</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>In this lesson, we are going to learn how to set up Webpack to convert our code into something the browser can understand. For instance, we will be using ES6 in this series, and to do that safely, we need to convert our code into ES5 for the browser.</p><p>We will also make heavy use of module loading, and so we need Webpack to help us locate and resolve all of our assets, and more importantly, their dependencies. The first thing we need to do to enable Webpack in our project is to create a configuration file to tell Webpack how to run.</p><p><strong>bash</strong></p><pre><code class="lang-bash">$ <span class="token function">touch</span> webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js</code></pre>
<p>We&apos;ll hop in here, and we&apos;re going to start to build out our configuration object.</p><p>The first thing that we&apos;re going to define is what we want our output to actually be. In this case, we want it to be a file with the name of bundle.js. From here we&apos;re going to define how we&apos;re going to load our modules. We&apos;ll define a module object, and from here we&apos;re going to create an array of loaders.</p><p>We&apos;ll start with a really simple loader, and we&apos;re just going to test for HTML files, so this is just a regular expression that tests for this HTML pattern. When it matches, it&apos;s going to apply this loader to it. In this case we&apos;re doing raw, which is a simple loader that just takes the raw content of the HTML file and puts it into the bundle.</p><p><strong>webpack.config.js</strong></p><pre><code class="lang-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">&apos;bundle.js&apos;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    loaders<span class="token punctuation">:</span> <span class="token punctuation">[</span>
       <span class="token punctuation">{</span> test<span class="token punctuation">:</span> <span class="token regex">/\.html$/</span><span class="token punctuation">,</span> loader<span class="token punctuation">:</span> <span class="token string">&apos;raw&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Let&apos;s do another one, and this is CSS. This is slightly more ambitious, because we&apos;re going to actually stack two loaders together. This reads from right to left, and we&apos;re saying take the CSS, resolve it, and then add it as a style tag into our DOM.</p><p>The next one we&apos;re going to do is the same thing, but we&apos;re adding an additional style-list loader on to the end of it. From here, we&apos;re going to just do a bit of an esoteric pattern here that&apos;s going to grab all of our external assets such as fonts, SVGs, etc., and we&apos;re going to generate a URL for it.</p><p>For the grand finale, we&apos;re going to create our JavaScript loader. We&apos;ll set up a regular expression test for that, to test for the JavaScript extension, and then from here, we&apos;re going to add one more property. That&apos;s &quot;exclude,&quot; because we&apos;re going to exclude the node modules, which we do not need to process. Then we&apos;ll add in our loader, which is going to be ng-annotate, to help with dependency injection, and Babel to convert ES6 to ES5.</p><p>Let&apos;s add one more property on here to help with debugging, and that&apos;s DevTool. We&apos;re going to set this to emit SourceMap when it handles the bundle. Let&apos;s hop into our gulp file, and we&apos;re going to add Webpack into our build system. We&apos;re going to import webpack-stream. What this allows us to do is communicate with Webpack via streams, which is what Gulp uses.</p><p>Let&apos;s create a new Webpack task. We&apos;re going to return a new stream that&apos;s going to start at our entry point. We&apos;ll go pass.entry. we&apos;ll take all of the files from that entry point, and we&apos;re going to pass them to Webpack with our Webpack configuration file we just created to be processed. Then we&apos;ll take the output of that, which is just a bundle.js file, and we&apos;re going to send that to our output.</p><p>Now that we&apos;ve created our Webpack task, let&apos;s go ahead and add this to our default Gulp task. Since we&apos;re here, let&apos;s go ahead and add this to our watch task as well. Now that we&apos;ve created our Webpack and hooked it into Gulp, let&apos;s create a new JavaScript file to verify this is working.</p><p>We&apos;re going to create an app.js file in our app directory, and we&apos;re going to put a simple console log here that says, &quot;Hello, Eggly ES6!&quot; Let&apos;s go into our index.html file. We need to actually include our bundle.js file. We&apos;ll take bundle.js here so that our file gets included, and now let&apos;s kick things off with npm start, and let&apos;s hop into the browser.</p><p>When we reload this, we should look in the console and see &quot;Hello, Eggly ES6.&quot; The reason being is even though we didn&apos;t explicitly include bundle.js, it was wrapped up in Webpack.</p><p>Let&apos;s do a quick review. We created webpack.config with our output, and then our loaders here. Our JavaScript loader, specifically, is using ng-annotate in Babel. We hooked this into Gulp with webpack-stream, and then we created a Webpack task that starts at our entry point, passes that into Webpack, and then puts our output into our destination pack.</p><p>We added it to our default tasks and our watch tasks. We included bundle.js into our index.html, and then we had a console log in app.js, just to prove that it was working. This is how you add a Webpack to a project.</p>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="angular-1-x-introducing-angular-2-concepts-in-angular-1.html" class="navigation navigation-prev " aria-label="Previous page: Introducing Angular 2 Concepts in Angular 1">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="angular-1-x-build-lighweight-controllers-by-binding-to-models-in-angular.html" class="navigation navigation-next " aria-label="Next page: Build Lighweight Controllers by Binding to Models in Angular">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Compile an Angular Application Written in ES6","level":"1.3","depth":1,"next":{"title":"Build Lighweight Controllers by Binding to Models in Angular","level":"1.4","depth":1,"path":"lessons/angular-1-x-build-lighweight-controllers-by-binding-to-models-in-angular.md","ref":"lessons/angular-1-x-build-lighweight-controllers-by-binding-to-models-in-angular.md","articles":[]},"previous":{"title":"Introducing Angular 2 Concepts in Angular 1","level":"1.2","depth":1,"path":"lessons/angular-1-x-introducing-angular-2-concepts-in-angular-1.md","ref":"lessons/angular-1-x-introducing-angular-2-concepts-in-angular-1.md","articles":[]},"dir":"ltr"},"config":{"plugins":["prism","-highlight","hints","livereload"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"hints":{},"livereload":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Using Angular 2 Patterns in Angular 1.x Apps","gitbook":"*","description":"This book covers the [Using Angular 2 Patterns in Angular 1.x Apps](https://egghead.io/courses/angular-1-in-the-angular-2-style) transcripts and enhances them to become Asciicasts"},"file":{"path":"lessons/angular-1-x-compiling-our-application.md","mtime":"2016-09-01T20:40:38.000Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2016-09-02T06:45:47.520Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

